{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // Initialize Lucide icons\n    lucide.createIcons();\n\n    // Header scroll effect\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 50) {\n            header.style.padding = '12px 0';\n            header.style.boxShadow = '0 4px 20px rgba(0,0,0,0.08)';\n        } else {\n            header.style.padding = '20px 0';\n            header.style.boxShadow = 'none';\n        }\n    });\n\n    // Smooth scroll for anchors\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            e.preventDefault();\n            const target = document.querySelector(this.getAttribute('href'));\n            if (target) {\n                window.scrollTo({\n                    top: target.offsetTop - 80,\n                    behavior: 'smooth'\n                });\n            }\n        });\n    });\n});\n// Подключаем Lottie и AOS через CDN динамически для этапа\nconst scripts = [\n    'https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js',\n    'https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js',\n    'https://unpkg.com/aos@next/dist/aos.js'\n];\n\nfunction loadScripts(urls, callback) {\n    let count = 0;\n    urls.forEach(url => {\n        const s = document.createElement('script');\n        s.src = url;\n        s.onload = () => {\n            count++;\n            if(count === urls.length) callback();\n        };\n        document.head.appendChild(s);\n    });\n}\n\nloadScripts(scripts, () => {\n    // Инициализация AOS\n    AOS.init({\n        duration: 800,\n        once: true\n    });\n\n    // Инициализация Lottie\n    lottie.loadAnimation({\n        container: document.getElementById('lottie-hero'),\n        renderer: 'svg',\n        loop: true,\n        autoplay: true,\n        path: 'https://assets9.lottiefiles.com/packages/lf20_m6cuL6.json' // Абстрактная бизнес-анимация\n    });\n});\n// Tilt effect for cards\nconst cards = document.querySelectorAll('.about__card');\ncards.forEach(card => {\n    card.addEventListener('mousemove', (e) => {\n        const rect = card.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n        \n        const centerX = rect.width / 2;\n        const centerY = rect.height / 2;\n        \n        const rotateX = (y - centerY) / 10;\n        const rotateY = (centerX - x) / 10;\n        \n        card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-10px)`;\n    });\n    \n    card.addEventListener('mouseleave', () => {\n        card.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) translateY(0)`;\n    });\n});\n// Counters Animation\nconst stats = document.querySelectorAll('.stat-item__number');\nconst observerOptions = { threshold: 0.5 };\n\nconst statsObserver = new IntersectionObserver((entries) => {\n    entries.forEach(entry => {\n        if (entry.isIntersecting) {\n            const target = entry.target;\n            const endValue = parseInt(target.getAttribute('data-target'));\n            let startValue = 0;\n            const duration = 2000;\n            const step = endValue / (duration / 16);\n\n            const updateCount = () => {\n                startValue += step;\n                if (startValue < endValue) {\n                    target.innerText = Math.ceil(startValue);\n                    requestAnimationFrame(updateCount);\n                } else {\n                    target.innerText = endValue;\n                }\n            };\n            updateCount();\n            statsObserver.unobserve(target);\n        }\n    });\n}, observerOptions);\n\nstats.forEach(stat => statsObserver.observe(stat));\n// Innovation Cards Glow Effect\nconst innovCards = document.querySelectorAll('.innovation-card');\n\ninnovCards.forEach(card => {\n    const glow = card.querySelector('.innovation-card__glow');\n    \n    card.addEventListener('mousemove', (e) => {\n        const rect = card.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n        \n        glow.style.top = `${y - 150}px`;\n        glow.style.left = `${x - 150}px`;\n        glow.style.opacity = '1';\n    });\n    \n    card.addEventListener('mouseleave', () => {\n        glow.style.opacity = '0';\n    });\n});\n// Captcha Logic\nlet captchaResult;\nfunction generateCaptcha() {\n    const num1 = Math.floor(Math.random() * 10) + 1;\n    const num2 = Math.floor(Math.random() * 10) + 1;\n    captchaResult = num1 + num2;\n    document.getElementById('captcha-question').innerText = `${num1} + ${num2}`;\n}\n\n// Form Submission\nconst contactForm = document.getElementById('main-contact-form');\nconst phoneInput = document.getElementById('phone');\nconst formMessage = document.getElementById('form-message');\n\n// Validate phone: only numbers\nphoneInput.addEventListener('input', (e) => {\n    e.target.value = e.target.value.replace(/[^0-9]/g, '');\n});\n\ncontactForm.addEventListener('submit', function(e) {\n    e.preventDefault();\n    \n    const userAnswer = parseInt(document.getElementById('captcha-answer').value);\n    \n    if (userAnswer !== captchaResult) {\n        formMessage.textContent = \"Ошибка: Ответ на пример неверный.\";\n        formMessage.className = \"form-message error\";\n        generateCaptcha();\n        return;\n    }\n\n    // Имитация AJAX отправки\n    const submitBtn = this.querySelector('button');\n    submitBtn.disabled = true;\n    submitBtn.innerText = \"Отправка...\";\n\n    setTimeout(() => {\n        formMessage.textContent = \"Успех! Мы свяжемся с вами в ближайшее время.\";\n        formMessage.className = \"form-message success\";\n        contactForm.reset();\n        generateCaptcha();\n        submitBtn.disabled = false;\n        submitBtn.innerText = \"Отправить запрос\";\n    }, 1500);\n});\n\n// Initial call\ngenerateCaptcha();"],"names":["header","anchor","e","target","scripts","loadScripts","urls","callback","count","url","s","cards","card","rect","x","y","centerX","centerY","rotateX","rotateY","stats","observerOptions","statsObserver","entries","entry","endValue","startValue","step","updateCount","stat","innovCards","glow","captchaResult","generateCaptcha","num1","num2","contactForm","phoneInput","formMessage","submitBtn"],"mappings":"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"}