{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // 1. Инициализация иконок\n    lucide.createIcons();\n\n    // 2. Мобильное меню\n    const burger = document.querySelector('.burger');\n    const mobileNav = document.getElementById('mobile-nav');\n    const closeMenu = document.getElementById('close-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-nav__link');\n\n    const toggleMenu = (state) => {\n        mobileNav.classList.toggle('active', state);\n        document.body.style.overflow = state ? 'hidden' : '';\n    };\n\n    burger.addEventListener('click', () => toggleMenu(true));\n    closeMenu.addEventListener('click', () => toggleMenu(false));\n    mobileLinks.forEach(link => link.addEventListener('click', () => toggleMenu(false)));\n\n    // 3. Header Scroll\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 50) {\n            header.style.padding = '12px 0';\n            header.style.background = 'rgba(255, 255, 255, 0.95)';\n            header.style.boxShadow = '0 4px 20px rgba(0,0,0,0.08)';\n        } else {\n            header.style.padding = '20px 0';\n            header.style.background = 'rgba(255, 255, 255, 0.8)';\n            header.style.boxShadow = 'none';\n        }\n    });\n\n    // 4. Загрузка библиотек и их инициализация\n    const scripts = [\n        'https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js',\n        'https://unpkg.com/aos@next/dist/aos.js'\n    ];\n\n    function loadScripts(urls, callback) {\n        let count = 0;\n        urls.forEach(url => {\n            const s = document.createElement('script');\n            s.src = url;\n            s.onload = () => { if (++count === urls.length) callback(); };\n            document.head.appendChild(s);\n        });\n    }\n\n    loadScripts(scripts, () => {\n        // AOS\n        AOS.init({ duration: 800, once: true });\n\n        // Lottie Hero\n        lottie.loadAnimation({\n            container: document.getElementById('lottie-hero'),\n            renderer: 'svg',\n            loop: true,\n            autoplay: true,\n            path: 'https://assets9.lottiefiles.com/packages/lf20_m6cuL6.json'\n        });\n\n        // Glow Effect для инноваций\n        document.querySelectorAll('.innovation-card').forEach(card => {\n            const glow = card.querySelector('.innovation-card__glow');\n            card.addEventListener('mousemove', e => {\n                const rect = card.getBoundingClientRect();\n                glow.style.top = `${e.clientY - rect.top - 150}px`;\n                glow.style.left = `${e.clientX - rect.left - 150}px`;\n                glow.style.opacity = '1';\n            });\n            card.addEventListener('mouseleave', () => glow.style.opacity = '0');\n        });\n\n        // Counters\n        const statsObserver = new IntersectionObserver((entries) => {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    const target = entry.target;\n                    const endValue = parseInt(target.dataset.target);\n                    let start = 0;\n                    const interval = setInterval(() => {\n                        start += Math.ceil(endValue / 100);\n                        if (start >= endValue) {\n                            target.innerText = endValue;\n                            clearInterval(interval);\n                        } else target.innerText = start;\n                    }, 20);\n                    statsObserver.unobserve(target);\n                }\n            });\n        }, { threshold: 0.5 });\n        document.querySelectorAll('.stat-item__number').forEach(s => statsObserver.observe(s));\n    });\n\n    // 5. Контактная форма и Капча\n    let captchaRes;\n    const genCaptcha = () => {\n        const a = Math.floor(Math.random() * 10) + 1, b = Math.floor(Math.random() * 10) + 1;\n        captchaRes = a + b;\n        document.getElementById('captcha-question').innerText = `${a} + ${b}`;\n    };\n    genCaptcha();\n\n    document.getElementById('phone').addEventListener('input', e => e.target.value = e.target.value.replace(/[^0-9]/g, ''));\n\n    document.getElementById('main-contact-form').addEventListener('submit', function(e) {\n        e.preventDefault();\n        const ans = parseInt(document.getElementById('captcha-answer').value);\n        const msg = document.getElementById('form-message');\n        if (ans !== captchaRes) {\n            msg.textContent = \"Ошибка капчи!\";\n            msg.className = \"form-message error\";\n            return genCaptcha();\n        }\n        const btn = this.querySelector('button');\n        btn.disabled = true; btn.innerText = \"Отправка...\";\n        setTimeout(() => {\n            msg.textContent = \"Успешно отправлено!\";\n            msg.className = \"form-message success\";\n            this.reset(); genCaptcha(); btn.disabled = false; btn.innerText = \"Отправить запрос\";\n        }, 1500);\n    });\n\n    // 6. Cookie Popup Logic\n    const cookiePopup = document.getElementById('cookie-popup');\n    const acceptBtn = document.getElementById('accept-cookies');\n\n    if (!localStorage.getItem('cookies-accepted')) {\n        setTimeout(() => cookiePopup.classList.add('active'), 2000);\n    }\n\n    acceptBtn.addEventListener('click', () => {\n        localStorage.setItem('cookies-accepted', 'true');\n        cookiePopup.classList.remove('active');\n    });\n});"],"names":["burger","mobileNav","closeMenu","mobileLinks","toggleMenu","state","link","header","scripts","loadScripts","urls","callback","count","url","s","card","glow","e","rect","statsObserver","entries","entry","target","endValue","start","interval","captchaRes","genCaptcha","a","b","ans","msg","btn","cookiePopup","acceptBtn"],"mappings":"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"}